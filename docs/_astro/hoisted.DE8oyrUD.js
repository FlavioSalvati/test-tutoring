import"./hoisted.BVLpoljv.js";const w="https://script.google.com/macros/s/AKfycbwO4_HkKJFhRaIYuId08LBUaRAsYyzwBN_L15l5VYN8agjcE9y5pzB83gF_PIqkRA0-xg/exec",I="https://script.google.com/macros/s/AKfycbxGR6it2Hwonh7EhhphthOqXKHoXL3_qrjZ61WAN6QEUyVTHihw8Cx1CvDLlKFj_DCVsQ/exec",a=document.forms["apply-now"];a.addEventListener("submit",E);function h(o){if(console.log("post:",o),o.toString()=="200"){for(let r=0,u=a.elements.length;r<u;r++)a.elements[r].readOnly=!0,a.elements[r].disabled=!0;var e=document.getElementById("send_error_apply-now");e&&(e.hidden=!0);var e=document.getElementById("confirmation_apply-now");e&&(e.hidden=!1);const i={timeZone:"Europe/London",hour:"2-digit",minute:"2-digit",second:"2-digit"},s=new Intl.DateTimeFormat([],i).format(new Date),l=parseInt(s,10);Intl&&Intl.DateTimeFormat&&Intl.DateTimeFormat().resolvedOptions().timeZone,l>8&&l<20&&e?e.innerHTML=a.elements.name.value+", thank you for completing the form. You should have now received a confirmation email. We aim to get back to you within 1-2 hours, which is before "+(l+2)+":00 London Time. If you do not receive an email in the next 10 minutes, please try submitting the form again or contact <a href='onboarding@beyond-tutors.com'>info@beyond-tutors.com</a> for any questions.":e&&(e.innerHTML=a.elements.name.value+", thank you for completing the form. You should have now received a confirmation email. Please note that the time in London is "+s+", and we are currently out of office. We will get back to you first thing tomorrow morning."),document.getElementById("button_label_submitting").style.display="none",document.getElementById("button_label_submitted").style.display="block"}else{console.log("ERROR");var e=document.getElementById("send_error_apply-now");e.hidden=!1,e.innerHTML=a.elements.name.value+", we are sorry to inform you that an error has occured while submitting the form. Please contact <a href='mailto:onboarding@beyond-tutors.com'>onboarding@beyond-tutors.com</a> directly, or call us at +44 263 573 198.";var t=document.getElementById("submit_button");t.disabled=!1,document.getElementById("button_label_submit").style.display="block",document.getElementById("button_label_submitting").style.display="none"}}function E(o){document.getElementById("button_label_submit").style.display="none",document.getElementById("button_label_submitting").style.display="block";var e=document.getElementById("submit_button");e.disabled=!0,o.preventDefault(),document.getElementById("prefix").value=c.getSelectedCountryData().dialCode;const t=new FormData(a);var i=t.get("cv_file"),m=t.get("name"),s=t.get("surname");const l=new FileReader;l.readAsArrayBuffer(i),l.onload=r=>{function u(n,y){for(var f in y)n.append(f,y[f].toString());n.delete("cv_file");for(var g of n.entries())console.log(g[0]+", "+g[1]);fetch(w,{method:"POST",body:n}).then(()=>{h(200)}).catch(_=>{h(_)})}const v=new URLSearchParams({filename:"CV_"+m+"_"+s||i.name,mimeType:i.type});fetch(`${I}?${v}`,{method:"POST",body:JSON.stringify([...new Int8Array(r.target.result)])}).then(n=>n.json()).then(n=>u(t,n)).catch(n=>console.log(n))}}const p=window.intlTelInputGlobals.getCountryData(),b=document.querySelector("#phone"),d=document.querySelector("#country"),c=window.intlTelInput(b,{utilsScript:"assets/js/utils.js",separateDialCode:!1,initialCountry:""});for(let o=0;o<p.length;o++){const e=p[o],t=document.createElement("option");t.value=e.iso2;const i=document.createTextNode(e.name);t.appendChild(i),d.appendChild(t)}d.value=c.getSelectedCountryData().iso2;b.addEventListener("countrychange",()=>{d.value=c.getSelectedCountryData().iso2});d.addEventListener("change",()=>{c.setCountry((void 0).value)});
